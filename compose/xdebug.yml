# run this with
# $ docker-compose -f docker-compose.yml -f compose/xdebug.yml up
version: '3'
services:
  web:
    environment:
      # needed by PHPSTORM for debugging
      PHP_IDE_CONFIG: "serverName=tine20docker"
      # this can be used to overwrite some xdebug config settings
      XDEBUG_CONFIG: "remote_host=172.118.0.1 remote_enable=on remote_port=9001"
    volumes:
      # TODO find a solution to support multiple php versions here
      # php 8.0
      - ./configs/xdebug/xdebug.ini:/etc/php8/conf.d/50_xdebug.ini:ro
      # php 8.1
      #- ./configs/xdebug/xdebug.ini:/etc/php81/conf.d/50_xdebug.ini:ro
      # use this for php 7.4 web/tine container
      #- ./configs/xdebug/xdebug.ini:/etc/php7/conf.d/xdebug.ini:ro

